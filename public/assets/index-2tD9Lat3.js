import{u as S,r,S as g,b as x,c as v,d as y,j as e,C as b,e as j,a3 as D,f as E,_ as k,g as R,h as T,a4 as q}from"./index-DrgqF6h7.js";import{C as w}from"./CustomizedMaterialTable-sErZg5Gy.js";import{N as A}from"./sessionColumns-0BrYivn4.js";import"./TabPanel-Bl8roboH.js";import"./useThemeProps-DLRF2U3R.js";import"./Toolbar-Bzx_LBRC.js";import"./Chip-BcLQNplL.js";import"./Autocomplete-D4vPEd6T.js";import"./Skeleton-BUD-o5ar.js";import"./ButtonGroup-DQMwsk7A.js";import"./ListItemText-Bwh_rzOL.js";import"./InputAdornment-EcTjtcuD.js";import"./index-_n9xtSlI.js";import"./DialogActions-Cx2GHHEW.js";import"./ListItem-yCsexoBs.js";import"./ListItemSecondaryAction-mmiMbVqP.js";import"./listItemButtonClasses-CLhmtlXH.js";import"./ListItemButton-BUsfko6u.js";import"./Check-CEGAxChF.js";import"./DeleteOutline-DM92K-00.js";import"./images-B5fNBSni.js";import"./currencyFormatter-DjBDW3hY.js";import"./CircleRounded-Bh8WmZqU.js";function ot(){const n=S(),[l,a]=r.useState([]),{schoolSessionDispatch:s}=r.useContext(g),m=x(),i=v({queryKey:["notifications"],queryFn:()=>q(),initialData:[]}),u=t=>{n(`/notifications/${t}`)},d=t=>{n(`/notifications/${t}/edit`)},p=t=>{a(t)},f=t=>{a([{_id:t}]),c()},{mutateAsync:h,isLoading:C}=y({mutationFn:D}),c=()=>{E.fire({title:"Removing Notifications",text:"You are about to remove the selected notifications.Changes cannot be undone.",showCancelButton:!0}).then(({isConfirmed:t})=>{const N=k.map(l,"_id");t&&h({notifications:N},{onSettled:()=>{m.invalidateQueries(["notifications"])},onSuccess:o=>{s(R(o))},onError:o=>{s(T(o))}})})};return e.jsxs(b,{children:[e.jsx(j,{title:"Notifications",subtitle:"Receive notifications and track activities to stay updated on important school events and tasks.",color:"text.main",backColor:"#012e54"}),e.jsx(w,{isLoading:i.isLoading||C,columns:A(u,d,f),data:i.data,handleRefresh:i.refetch,actions:[],options:{search:!0},onSelectionChange:p,onDeleteClicked:c})]})}export{ot as default};
