import{j as t,S as l,T as c,r as C,a0 as T,H as b,v as x,J as v,h as u}from"./index-bb65b4bf.js";import{d as F}from"./BarChartRounded-43887622.js";import{c as P}from"./currencyFormatter-1910a788.js";import{C as k}from"./CustomizedMaterialTable-266061d1.js";import{c as L,d as M}from"./currentFeeAPI-3305f0eb.js";import{E as A}from"./images-0c291668.js";import{t as y}from"./teacher_ico-786b69d1.js";import{C as B}from"./CustomTitle-ed47c53b.js";import{L as I}from"./ListItemText-33ae0292.js";import"./TabPanel-175e39ff.js";import"./Toolbar-36d77a55.js";import"./MenuItem-1edcf8db.js";import"./listItemTextClasses-35ff90f6.js";import"./Chip-fa36c3a1.js";import"./Autocomplete-95da27f3.js";import"./Skeleton-6cff8ea8.js";import"./ButtonGroup-83f2640f.js";import"./InputAdornment-321f8206.js";import"./CardContent-25ef3451.js";import"./ListItemSecondaryAction-c66bb893.js";import"./Grid-6a14669c.js";import"./useMediaQuery-5f0ec7e9.js";import"./ListItem-befde9c4.js";import"./listItemButtonClasses-9702db06.js";import"./ListItemButton-bf3e0355.js";import"./Check-7b95876f.js";import"./DeleteOutline-80e9f63f.js";import"./Delete-97505065.js";import"./Add-66663708.js";import"./score_ico-e1082ac1.js";const r=({text:a,value:o})=>t.jsxs(l,{spacing:1,sx:{backgroundColor:"#fff",padding:2,borderRadius:"8px",boxShadow:"0px 1px 20px 10px rgba(84,84,84,0.10)"},children:[t.jsxs(l,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[t.jsx(c,{children:a}),t.jsx(F,{color:"secondary"})]}),t.jsx(c,{variant:"h5",children:P(o??0)})]}),dt=()=>{var i,n,d,m;const{userState:{session:{sessionId:a,termId:o,from:f,to:h}}}=C.useContext(T),g=b(),e=x({queryKey:["current-fees-summary"],queryFn:()=>L({session:a,term:o,from:f,to:h}),enabled:!!a&&!!o}),s=x({queryKey:["recent-fees"],queryFn:()=>M({session:a,term:o}),enabled:!!a&&!!o}),j=()=>{g("/fee/payment")};return t.jsxs(t.Fragment,{children:[t.jsx(B,{title:"Fees Payment",subtitle:"Track and manage school fee payments and financial records efficiently to maintain fiscal responsibility.",img:y,color:"primary.main"}),t.jsxs(v,{sx:{display:{xs:"none",md:"grid"},gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:2,py:3},children:[t.jsx(r,{text:"Today",value:(i=e==null?void 0:e.data)==null?void 0:i.today}),t.jsx(r,{text:"Month",value:(n=e==null?void 0:e.data)==null?void 0:n.month}),t.jsx(r,{text:"Term",value:(d=e==null?void 0:e.data)==null?void 0:d.term}),t.jsx(r,{text:"Year",value:(m=e==null?void 0:e.data)==null?void 0:m.year})]}),t.jsx(k,{isLoading:s.isLoading,title:"Recent Fee Payment",icon:y,columns:[{title:"Date of Payment",field:"date",type:"date",render:({date:p})=>t.jsx(I,{primary:u(p).format("ddd,LL"),secondary:u(p).format("hh:mm a"),secondaryTypographyProps:{color:"secondary.main"}})},{title:"Student",field:"student"},{title:"Level",field:"level"},{title:"Amount Paid",field:"paid"},{title:"Outstanding",field:"outstanding"}],data:s.data,actions:[],showAddButton:!0,addButtonImg:A.level,addButtonMessage:" No recent fee payment !",addButtonText:"Make New Payment",onAddButtonClicked:j,handleRefresh:s.refetch})]})};export{dt as default};
