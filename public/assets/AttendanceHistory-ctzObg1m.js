import{i as d,c as m,j as r,C as y,e as l,v as c,l as x,L as h,m as i,Q as g,av as n}from"./index-DrgqF6h7.js";import{b as f}from"./attendanceAPI-C2rNEcJl.js";import{B as j}from"./Back-CADpxW16.js";import{L as t}from"./ListItemText-Bwh_rzOL.js";import{L as u}from"./ListItem-yCsexoBs.js";import{L}from"./ListItemButton-BUsfko6u.js";import"./ListItemSecondaryAction-mmiMbVqP.js";import"./listItemButtonClasses-CLhmtlXH.js";function T(){var o;const{id:a,type:p}=d(),s=m({queryKey:["attendance-history"],queryFn:()=>f(a),enabled:!!a});return r.jsxs(y,{children:[r.jsx(j,{to:`/level/attendance/${a}/${p}`,color:"primary.main"}),r.jsx(l,{title:"Attendance History",subtitle:"Review past attendance records to analyze trends, identify issues, and ensure comprehensive tracking of student and staff presence.",color:"primary.main"}),r.jsxs(c,{children:[s.isLoading&&r.jsx(x,{children:"Loading...."}),r.jsx(t,{primary:`Attendance - ${(o=s==null?void 0:s.data)==null?void 0:o.length} days`,primaryTypographyProps:{fontSize:20,fontWeight:"bold",textAlign:"right"}}),r.jsxs(h,{sx:{maxHeight:600},children:[r.jsxs(u,{children:[r.jsx(t,{primary:"Date"}),r.jsx(t,{primary:"Present"}),r.jsx(t,{primary:"Absent"})]}),s.data&&s.data.map(e=>r.jsxs(L,{divider:!0,children:[r.jsx(t,{primary:i(e.date).format("Do MMMM,YYYY"),secondary:i(e.date).format("dddd"),secondaryTypographyProps:{color:"primary.main",fontWeight:"bold"}}),r.jsx(t,{primary:e.present,primaryTypographyProps:{width:100}}),r.jsx(t,{primary:e.absent,primaryTypographyProps:{width:100}})]},e.date))]})]}),s.isLoading&&r.jsx(g,{value:"Loading Attendance History"})]})}T.propTypes={open:n.PropTypes.bool,setOpen:n.PropTypes.func};export{T as default};
