import{H as x,r as c,f as S,g,v,i as y,j as e,C as b,x as j,_ as D,s as E,t as k,a3 as R,a4 as T}from"./index-a08c4904.js";import{C as q}from"./CustomTitle-d0e5d50c.js";import{C as w}from"./CustomizedMaterialTable-b0814305.js";import{N as A}from"./sessionColumns-7f037633.js";import"./TabPanel-3210be1c.js";import"./Toolbar-172ad7c3.js";import"./MenuItem-ddd79fe9.js";import"./listItemTextClasses-cdd81f8c.js";import"./Chip-a33d5899.js";import"./Autocomplete-62a3dcdf.js";import"./Skeleton-f52aff28.js";import"./ButtonGroup-ed336fd9.js";import"./ListItemText-de69415f.js";import"./InputAdornment-16e34158.js";import"./CardContent-8cf1caa6.js";import"./ListItemSecondaryAction-33dcc31c.js";import"./Grid-d7986873.js";import"./useMediaQuery-dbbfc5b2.js";import"./ListItem-559aef15.js";import"./listItemButtonClasses-628cfd1a.js";import"./ListItemButton-b9f74f93.js";import"./Check-6932050c.js";import"./DeleteOutline-f3e83ed5.js";import"./images-ee905b8b.js";import"./Delete-ee750b69.js";import"./Add-3c6bb686.js";import"./currencyFormatter-1910a788.js";import"./CircleRounded-fed72031.js";import"./Edit-d3e93a55.js";function ct(){const n=x(),[m,a]=c.useState([]),{schoolSessionDispatch:s}=c.useContext(S),l=g(),i=v({queryKey:["notifications"],queryFn:()=>R(),initialData:[]}),p=t=>{n(`/notifications/${t}`)},u=t=>{n(`/notifications/${t}/edit`)},f=t=>{a(t)},d=t=>{a([{_id:t}]),r()},{mutateAsync:h,isLoading:C}=y({mutationFn:T}),r=()=>{j.fire({title:"Removing Notifications",text:"You are about to remove the selected notifications.Changes cannot be undone.",showCancelButton:!0}).then(({isConfirmed:t})=>{const N=D.map(m,"_id");t&&h({notifications:N},{onSettled:()=>{l.invalidateQueries(["notifications"])},onSuccess:o=>{s(E(o))},onError:o=>{s(k(o))}})})};return e.jsxs(b,{children:[e.jsx(q,{title:"Notifications",subtitle:"Receive notifications and track activities to stay updated on important school events and tasks.",color:"text.main",backColor:"#012e54"}),e.jsx(w,{isLoading:i.isLoading||C,columns:A(p,u,d),data:i.data,handleRefresh:i.refetch,actions:[],options:{search:!0},onSelectionChange:f,onDeleteClicked:r})]})}export{ct as default};
