import{r,a0 as C,H as x,v as _,eV as y,j as i,b as g}from"./index-a08c4904.js";import{a as h}from"./studentColumns-89e76406.js";import{C as I}from"./CustomizedMaterialTable-b0814305.js";import{u as T}from"./useLevel-30b3786a.js";import{s as n}from"./student_ico-5882123b.js";import{E as b}from"./images-ee905b8b.js";import{C as E}from"./CustomTitle-d0e5d50c.js";import{A as j}from"./Autocomplete-62a3dcdf.js";import"./gradeColor-6983157e.js";import"./ListItemText-de69415f.js";import"./listItemTextClasses-cdd81f8c.js";import"./CircleRounded-fed72031.js";import"./TabPanel-3210be1c.js";import"./Toolbar-172ad7c3.js";import"./MenuItem-ddd79fe9.js";import"./Chip-a33d5899.js";import"./Skeleton-f52aff28.js";import"./ButtonGroup-ed336fd9.js";import"./InputAdornment-16e34158.js";import"./CardContent-8cf1caa6.js";import"./ListItemSecondaryAction-33dcc31c.js";import"./Grid-d7986873.js";import"./useMediaQuery-dbbfc5b2.js";import"./ListItem-559aef15.js";import"./listItemButtonClasses-628cfd1a.js";import"./ListItemButton-b9f74f93.js";import"./Check-6932050c.js";import"./DeleteOutline-f3e83ed5.js";import"./Delete-ee750b69.js";import"./Add-3c6bb686.js";const N=()=>{const{userState:{session:a}}=r.useContext(C),l=x(),[u,d]=r.useState([]),[e,p]=r.useState({_id:"",type:""}),{levelsOption:c}=T(),o=_({queryKey:["all-students",a==null?void 0:a.sessionId],queryFn:()=>y(a),enabled:!!a.sessionId});r.useEffect(()=>{var t;if(d([]),e!=null&&e._id){const s=(t=o==null?void 0:o.data)==null?void 0:t.filter(m=>(m==null?void 0:m.levelId)===(e==null?void 0:e._id));d(s)}else d([])},[e==null?void 0:e._id]);const f=t=>{const s=t.levelId,m=t.levelName;l(`/student/profile/${s}/${m}/${t._id}`,{state:{levelId:t.levelId,levelName:t.levelName}})},S=()=>{p({_id:"",type:""}),d([]),o.refetch()};return i.jsxs(i.Fragment,{children:[i.jsx(E,{title:"Students Information",subtitle:"  Track,manage and control academic and class activities",img:n,color:"primary.main"}),i.jsx(I,{title:(e==null?void 0:e.type)||"Students",icon:n,search:!0,columns:h,actions:[],data:(e==null?void 0:e._id)===""?o==null?void 0:o.data:u,onRowClick:f,addButtonImg:b.student,addButtonMessage:"ðŸ˜‘ No Students recently added !!!!",showRowShadow:!0,handleRefresh:S,autoCompleteComponent:i.jsx(j,{disableClearable:!0,clearText:" ",sx:{width:280},options:c??[],isOptionEqualToValue:(t,s)=>s._id===void 0||s._id===""||t._id===s._id,getOptionLabel:t=>(t==null?void 0:t.type)||"",value:e,onChange:(t,s)=>p(s),renderInput:t=>i.jsx(g,{...t,label:"Select Class",size:"small"})})})]})};N.propTypes={};export{N as default};
