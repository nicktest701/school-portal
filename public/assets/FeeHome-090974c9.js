import{j as e,l as p,m as c,r as b,a0 as C,u as F,c as x,e as T,M as v,n as u}from"./index-ce442eb1.js";import{d as P}from"./BarChartRounded-4b71170b.js";import{c as M}from"./currencyFormatter-1910a788.js";import{C as k}from"./CustomizedMaterialTable-06b57d17.js";import{c as L,d as A}from"./currentFeeAPI-8639b338.js";import{E as B}from"./images-ee905b8b.js";import{t as y}from"./teacher_ico-786b69d1.js";import{L as I}from"./ListItemText-b107adf9.js";import"./TabPanel-47a179c1.js";import"./Toolbar-8b116404.js";import"./Chip-15117b24.js";import"./Autocomplete-87c4b1e1.js";import"./Skeleton-b715010d.js";import"./ButtonGroup-ca857561.js";import"./InputAdornment-92a613d9.js";import"./DialogActions-c9d7df2e.js";import"./ListItemSecondaryAction-660d9daa.js";import"./useMediaQuery-5bcb3f64.js";import"./ListItem-2727fabf.js";import"./listItemButtonClasses-c7063ebe.js";import"./ListItemButton-97ec9750.js";import"./Check-4cc8eef7.js";import"./DeleteOutline-78b9d3f1.js";import"./Delete-fb41f478.js";const r=({text:a,value:o})=>e.jsxs(p,{spacing:1,sx:{backgroundColor:"#fff",padding:2,borderRadius:"8px",boxShadow:"0px 1px 20px 10px rgba(84,84,84,0.10)"},children:[e.jsxs(p,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(c,{children:a}),e.jsx(P,{color:"secondary"})]}),e.jsx(c,{variant:"h5",children:M(o??0)})]}),ae=()=>{var n,i,d,m;const{userState:{session:{sessionId:a,termId:o,from:f,to:g}}}=b.useContext(C),h=F(),t=x({queryKey:["current-fees-summary"],queryFn:()=>L({session:a,term:o,from:f,to:g}),enabled:!!a&&!!o}),s=x({queryKey:["recent-fees"],queryFn:()=>A({session:a,term:o}),enabled:!!a&&!!o}),j=()=>{h("/fee/payment")};return e.jsxs(e.Fragment,{children:[e.jsx(T,{title:"Fees Payment",subtitle:"Track and manage school fee payments and financial records efficiently to maintain fiscal responsibility.",img:y,color:"primary.main"}),e.jsxs(v,{sx:{display:{xs:"none",md:"grid"},gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:2,py:3},children:[e.jsx(r,{text:"Today",value:(n=t==null?void 0:t.data)==null?void 0:n.today}),e.jsx(r,{text:"Month",value:(i=t==null?void 0:t.data)==null?void 0:i.month}),e.jsx(r,{text:"Term",value:(d=t==null?void 0:t.data)==null?void 0:d.term}),e.jsx(r,{text:"Year",value:(m=t==null?void 0:t.data)==null?void 0:m.year})]}),e.jsx(k,{isLoading:s.isLoading,title:"Recent Fee Payment",icon:y,columns:[{title:"Date of Payment",field:"date",type:"date",render:({date:l})=>e.jsx(I,{primary:u(l).format("ddd,LL"),secondary:u(l).format("hh:mm a"),secondaryTypographyProps:{color:"secondary.main"}})},{title:"Student",field:"student"},{title:"Level",field:"level"},{title:"Amount Paid",field:"paid"},{title:"Outstanding",field:"outstanding"}],data:s.data,actions:[],showAddButton:!0,addButtonImg:B.level,addButtonMessage:" No recent fee payment !",addButtonText:"Make New Payment",onAddButtonClicked:j,handleRefresh:s.refetch})]})};export{ae as default};
