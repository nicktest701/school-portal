import{r,a0 as C,H as x,v as _,eV as y,j as i,b as g}from"./index-bb65b4bf.js";import{a as h}from"./studentColumns-c5a50072.js";import{C as I}from"./CustomizedMaterialTable-266061d1.js";import{u as T}from"./useLevel-2a56aacb.js";import{s as n}from"./student_ico-5882123b.js";import{E as b}from"./images-0c291668.js";import{C as E}from"./CustomTitle-ed47c53b.js";import{A as j}from"./Autocomplete-95da27f3.js";import"./gradeColor-6983157e.js";import"./ListItemText-33ae0292.js";import"./listItemTextClasses-35ff90f6.js";import"./CircleRounded-3db5a545.js";import"./TabPanel-175e39ff.js";import"./Toolbar-36d77a55.js";import"./MenuItem-1edcf8db.js";import"./Chip-fa36c3a1.js";import"./Skeleton-6cff8ea8.js";import"./ButtonGroup-83f2640f.js";import"./InputAdornment-321f8206.js";import"./CardContent-25ef3451.js";import"./ListItemSecondaryAction-c66bb893.js";import"./Grid-6a14669c.js";import"./useMediaQuery-5f0ec7e9.js";import"./ListItem-befde9c4.js";import"./listItemButtonClasses-9702db06.js";import"./ListItemButton-bf3e0355.js";import"./Check-7b95876f.js";import"./DeleteOutline-80e9f63f.js";import"./Delete-97505065.js";import"./Add-66663708.js";import"./score_ico-e1082ac1.js";const N=()=>{const{userState:{session:a}}=r.useContext(C),l=x(),[u,d]=r.useState([]),[e,p]=r.useState({_id:"",type:""}),{levelsOption:c}=T(),o=_({queryKey:["all-students",a==null?void 0:a.sessionId],queryFn:()=>y(a),enabled:!!a.sessionId});r.useEffect(()=>{var t;if(d([]),e!=null&&e._id){const s=(t=o==null?void 0:o.data)==null?void 0:t.filter(m=>(m==null?void 0:m.levelId)===(e==null?void 0:e._id));d(s)}else d([])},[e==null?void 0:e._id]);const f=t=>{const s=t.levelId,m=t.levelName;l(`/student/profile/${s}/${m}/${t._id}`,{state:{levelId:t.levelId,levelName:t.levelName}})},S=()=>{p({_id:"",type:""}),d([]),o.refetch()};return i.jsxs(i.Fragment,{children:[i.jsx(E,{title:"Students Information",subtitle:"  Track,manage and control academic and class activities",img:n,color:"primary.main"}),i.jsx(I,{title:(e==null?void 0:e.type)||"Students",icon:n,search:!0,columns:h,actions:[],data:(e==null?void 0:e._id)===""?o==null?void 0:o.data:u,onRowClick:f,addButtonImg:b.student,addButtonMessage:"ðŸ˜‘ No Students recently added !!!!",showRowShadow:!0,handleRefresh:S,autoCompleteComponent:i.jsx(j,{disableClearable:!0,clearText:" ",sx:{width:280},options:c??[],isOptionEqualToValue:(t,s)=>s._id===void 0||s._id===""||t._id===s._id,getOptionLabel:t=>(t==null?void 0:t.type)||"",value:e,onChange:(t,s)=>p(s),renderInput:t=>i.jsx(g,{...t,label:"Select Class",size:"small"})})})]})};N.propTypes={};export{N as default};
