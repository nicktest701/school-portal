import{r as n,a0 as x,u as C,c as _,fg as y,j as d,M as T,e as g,T as I}from"./index-DrgqF6h7.js";import{a as h}from"./studentColumns-Dev_8qkQ.js";import{C as E}from"./CustomizedMaterialTable-sErZg5Gy.js";import{u as b}from"./useLevel-C3V49YPJ.js";import{s as r}from"./student_ico-BGUw5C9J.js";import{E as j}from"./images-B5fNBSni.js";import{A as N}from"./Autocomplete-D4vPEd6T.js";import"./gradeColor-B1MTvGsq.js";import"./ListItemText-Bwh_rzOL.js";import"./CircleRounded-Bh8WmZqU.js";import"./TabPanel-Bl8roboH.js";import"./useThemeProps-DLRF2U3R.js";import"./Toolbar-Bzx_LBRC.js";import"./Chip-BcLQNplL.js";import"./Skeleton-BUD-o5ar.js";import"./ButtonGroup-DQMwsk7A.js";import"./InputAdornment-EcTjtcuD.js";import"./index-_n9xtSlI.js";import"./DialogActions-Cx2GHHEW.js";import"./ListItem-yCsexoBs.js";import"./ListItemSecondaryAction-mmiMbVqP.js";import"./listItemButtonClasses-CLhmtlXH.js";import"./ListItemButton-BUsfko6u.js";import"./Check-CEGAxChF.js";import"./DeleteOutline-DM92K-00.js";const M=()=>{const{userState:{session:o}}=n.useContext(x),p=C(),[u,m]=n.useState([]),[e,l]=n.useState({_id:"",type:""}),{levelsOption:c}=b(),i=_({queryKey:["all-students",o==null?void 0:o.sessionId],queryFn:()=>y(o),enabled:!!o.sessionId});n.useEffect(()=>{var t;if(m([]),e!=null&&e._id){const s=(t=i==null?void 0:i.data)==null?void 0:t.filter(a=>(a==null?void 0:a.levelId)===(e==null?void 0:e._id));m(s)}else m([])},[e==null?void 0:e._id]);const f=t=>{const s=t.levelId,a=t.levelName;p(`/student/profile/${s}/${a}/${t._id}`,{state:{levelId:t.levelId,levelName:t.levelName}})},S=()=>{l({_id:"",type:""}),m([]),i.refetch()};return d.jsxs(T,{children:[d.jsx(g,{title:"Students Information",subtitle:"  Track,manage and control academic and class activities",img:r,color:"primary.main"}),d.jsx(E,{title:(e==null?void 0:e.type)||"Students",icon:r,search:!0,columns:h,actions:[],data:(e==null?void 0:e._id)===""?i==null?void 0:i.data:u,onRowClick:f,addButtonImg:j.student,addButtonMessage:"ðŸ˜‘ No Students recently added !!!!",handleRefresh:S,autoCompleteComponent:d.jsx(N,{disableClearable:!0,clearText:" ",sx:{width:280},options:c??[],isOptionEqualToValue:(t,s)=>s._id===void 0||s._id===""||t._id===s._id,getOptionLabel:t=>(t==null?void 0:t.type)||"",value:e,onChange:(t,s)=>l(s),renderInput:t=>d.jsx(I,{...t,label:"Select Class",size:"small"})})})]})};M.propTypes={};export{M as default};
