import{u as C,r as d,S,b as f,c as x,d as y,j as o,C as b,e as w,a6 as j,f as B,_ as A,g as D,h as M,a7 as P}from"./index-B8PQHtjc.js";import{E as T}from"./images-B5fNBSni.js";import{C as _}from"./CustomizedMaterialTable-BQoTtwVw.js";import{E as k}from"./sessionColumns-oq904N9H.js";import"./TabPanel-WHfZdNAn.js";import"./useThemeProps-CEPKeDia.js";import"./Toolbar-YM__bEFh.js";import"./Chip-DmEpgF7y.js";import"./Autocomplete-Dw57Ihk7.js";import"./Skeleton-DWRiBFRT.js";import"./ButtonGroup-ZC3qSltg.js";import"./ListItemText-DzMM1D1F.js";import"./InputAdornment-DAOlZ4uj.js";import"./index-BqG4A_N5.js";import"./DialogActions-BmNk8sop.js";import"./ListItem-CQImyTSy.js";import"./ListItemSecondaryAction-DOVMjMKm.js";import"./listItemButtonClasses-DySKLRoc.js";import"./Grid2-B2FVLpOz.js";import"./Link-kLE4_HTq.js";import"./ListItemButton-Di0YOqWQ.js";import"./Check-JB41DPzl.js";import"./DeleteOutline-BlPFLwFk.js";import"./currencyFormatter-DjBDW3hY.js";import"./CircleRounded-YWo57tpF.js";function ae(){const t=C(),[c,a]=d.useState([]),{schoolSessionDispatch:i}=d.useContext(S),l=f(),n=x({queryKey:["events"],queryFn:()=>P(),initialData:[]}),m=e=>{t(`/events/${e}?redirect_to=/events`,{state:{prevPath:"/events"}})},u=e=>{t(`/events/${e}/edit`)},p=e=>{a(e)},v=e=>{a([{_id:e}]),r()},{mutateAsync:h,isPending:E}=y({mutationFn:j}),r=()=>{B.fire({title:"Removing Events",text:"You are about to remove the selected events.Changes cannot be undone.",showCancelButton:!0}).then(({isConfirmed:e})=>{const g=A.map(c,"_id");e&&h({events:g},{onSettled:()=>{l.invalidateQueries(["events"])},onSuccess:s=>{i(D(s))},onError:s=>{i(M(s))}})})};return o.jsxs(b,{children:[o.jsx(w,{title:"Events",subtitle:"Schedule and manage school events to ensure everyone stays informed and engaged.",color:"text.main",backColor:"#012e54"}),o.jsx(_,{isPending:n.isPending||E,columns:k(m,u,v),data:n.data,handleRefresh:n.refetch,actions:[],showAddButton:!0,addButtonImg:T.sms,addButtonText:"New Event",addButtonMessage:"ðŸ˜‘ Send your first Event with just a button click !!!!",onAddButtonClicked:()=>t("new"),options:{search:!0},onSelectionChange:p,onDeleteClicked:r})]})}export{ae as default};
