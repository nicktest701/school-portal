import{H as x,r as c,f as S,g,v,i as y,j as e,C as b,x as j,_ as D,s as E,t as k,a3 as R,a4 as T}from"./index-bb65b4bf.js";import{C as q}from"./CustomTitle-ed47c53b.js";import{C as w}from"./CustomizedMaterialTable-266061d1.js";import{N as A}from"./sessionColumns-3b88387c.js";import"./TabPanel-175e39ff.js";import"./Toolbar-36d77a55.js";import"./MenuItem-1edcf8db.js";import"./listItemTextClasses-35ff90f6.js";import"./Chip-fa36c3a1.js";import"./Autocomplete-95da27f3.js";import"./Skeleton-6cff8ea8.js";import"./ButtonGroup-83f2640f.js";import"./ListItemText-33ae0292.js";import"./InputAdornment-321f8206.js";import"./CardContent-25ef3451.js";import"./ListItemSecondaryAction-c66bb893.js";import"./Grid-6a14669c.js";import"./useMediaQuery-5f0ec7e9.js";import"./ListItem-befde9c4.js";import"./listItemButtonClasses-9702db06.js";import"./ListItemButton-bf3e0355.js";import"./Check-7b95876f.js";import"./DeleteOutline-80e9f63f.js";import"./Delete-97505065.js";import"./Add-66663708.js";import"./currencyFormatter-1910a788.js";import"./CircleRounded-3db5a545.js";import"./Edit-11e1ba9f.js";function rt(){const n=x(),[m,a]=c.useState([]),{schoolSessionDispatch:s}=c.useContext(S),l=g(),i=v({queryKey:["notifications"],queryFn:()=>R(),initialData:[]}),p=t=>{n(`/notifications/${t}`)},u=t=>{n(`/notifications/${t}/edit`)},f=t=>{a(t)},d=t=>{a([{_id:t}]),r()},{mutateAsync:h,isLoading:C}=y({mutationFn:T}),r=()=>{j.fire({title:"Removing Notifications",text:"You are about to remove the selected notifications.Changes cannot be undone.",showCancelButton:!0}).then(({isConfirmed:t})=>{const N=D.map(m,"_id");t&&h({notifications:N},{onSettled:()=>{l.invalidateQueries(["notifications"])},onSuccess:o=>{s(E(o))},onError:o=>{s(k(o))}})})};return e.jsxs(b,{children:[e.jsx(q,{title:"Notifications",subtitle:"Receive notifications and track activities to stay updated on important school events and tasks.",color:"text.main",backColor:"#012e54"}),e.jsx(w,{isLoading:i.isLoading||C,columns:A(p,u,d),data:i.data,handleRefresh:i.refetch,actions:[],options:{search:!0},onSelectionChange:f,onDeleteClicked:r})]})}export{rt as default};
