import{j as e,k as p,l as c,r as C,a1 as P,u as b,c as x,e as F,P as T,m as u}from"./index-B8PQHtjc.js";import{B as v}from"./BarChartRounded-Bzu6AZ7z.js";import{c as k}from"./currencyFormatter-DjBDW3hY.js";import{C as B}from"./CustomizedMaterialTable-BQoTtwVw.js";import{c as M,d as A}from"./currentFeeAPI-CpZ1DJJI.js";import{E as I}from"./images-B5fNBSni.js";import{t as y}from"./teacher_ico-BYF6mhgw.js";import{L as R}from"./ListItemText-DzMM1D1F.js";import"./TabPanel-WHfZdNAn.js";import"./useThemeProps-CEPKeDia.js";import"./Toolbar-YM__bEFh.js";import"./Chip-DmEpgF7y.js";import"./Autocomplete-Dw57Ihk7.js";import"./Skeleton-DWRiBFRT.js";import"./ButtonGroup-ZC3qSltg.js";import"./InputAdornment-DAOlZ4uj.js";import"./index-BqG4A_N5.js";import"./DialogActions-BmNk8sop.js";import"./ListItem-CQImyTSy.js";import"./ListItemSecondaryAction-DOVMjMKm.js";import"./listItemButtonClasses-DySKLRoc.js";import"./Grid2-B2FVLpOz.js";import"./Link-kLE4_HTq.js";import"./ListItemButton-Di0YOqWQ.js";import"./Check-JB41DPzl.js";import"./DeleteOutline-BlPFLwFk.js";const o=({text:a,value:r})=>e.jsxs(p,{spacing:1,sx:{backgroundColor:"#fff",padding:2,borderRadius:"8px",boxShadow:"0px 1px 20px 10px rgba(84,84,84,0.10)"},children:[e.jsxs(p,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(c,{children:a}),e.jsx(v,{color:"secondary"})]}),e.jsx(c,{variant:"h5",children:k(r??0)})]}),oe=()=>{var n,i,d,m;const{userState:{session:{sessionId:a,termId:r,from:f,to:h}}}=C.useContext(P),g=b(),t=x({queryKey:["current-fees-summary"],queryFn:()=>M({session:a,term:r,from:f,to:h}),enabled:!!a&&!!r}),s=x({queryKey:["recent-fees"],queryFn:()=>A({session:a,term:r}),enabled:!!a&&!!r}),j=()=>{g("/fee/payment")};return e.jsxs(e.Fragment,{children:[e.jsx(F,{title:"Fees Payment",subtitle:"Track and manage school fee payments and financial records efficiently to maintain fiscal responsibility.",img:y,color:"primary.main"}),e.jsxs(T,{sx:{display:{xs:"none",md:"grid"},gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:2,py:3},children:[e.jsx(o,{text:"Today",value:(n=t==null?void 0:t.data)==null?void 0:n.today}),e.jsx(o,{text:"Month",value:(i=t==null?void 0:t.data)==null?void 0:i.month}),e.jsx(o,{text:"Term",value:(d=t==null?void 0:t.data)==null?void 0:d.term}),e.jsx(o,{text:"Year",value:(m=t==null?void 0:t.data)==null?void 0:m.year})]}),e.jsx(B,{isPending:s.isPending,title:"Recent Fee Payment",icon:y,columns:[{title:"Date of Payment",field:"date",type:"date",render:({date:l})=>e.jsx(R,{primary:u(l).format("ddd,LL"),secondary:u(l).format("hh:mm a"),secondaryTypographyProps:{color:"secondary.main"}})},{title:"Student",field:"student"},{title:"Level",field:"level"},{title:"Amount Paid",field:"paid"},{title:"Outstanding",field:"outstanding"}],data:s.data,actions:[],showAddButton:!0,addButtonImg:I.level,addButtonMessage:" No recent fee payment !",addButtonText:"Make New Payment",onAddButtonClicked:j,handleRefresh:s.refetch})]})};export{oe as default};
