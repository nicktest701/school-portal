import{G as m,v as d,j as r,C as y,m as l,T as x,L as c,h as i,O as h,eG as p}from"./index-bb65b4bf.js";import{b as f}from"./attendanceAPI-564bcc1b.js";import{B as g}from"./Back-0ebcc4f3.js";import{C as j}from"./CustomTitle-ed47c53b.js";import{L as t}from"./ListItemText-33ae0292.js";import{L as u}from"./ListItem-befde9c4.js";import{L}from"./ListItemButton-bf3e0355.js";import"./ArrowBackRounded-54858719.js";import"./listItemTextClasses-35ff90f6.js";import"./listItemButtonClasses-9702db06.js";import"./ListItemSecondaryAction-c66bb893.js";function T(){var o;const{id:a,type:n}=m(),s=d({queryKey:["attendance-history"],queryFn:()=>f(a),enabled:!!a});return r.jsxs(y,{children:[r.jsx(g,{to:`/level/attendance/${a}/${n}`,color:"primary.main"}),r.jsx(j,{title:"Attendance History",subtitle:"Review past attendance records to analyze trends, identify issues, and ensure comprehensive tracking of student and staff presence.",color:"primary.main"}),r.jsxs(l,{children:[s.isLoading&&r.jsx(x,{children:"Loading...."}),r.jsx(t,{primary:`Attendance - ${(o=s==null?void 0:s.data)==null?void 0:o.length} days`,primaryTypographyProps:{fontSize:20,fontWeight:"bold",textAlign:"right"}}),r.jsxs(c,{sx:{maxHeight:600},children:[r.jsxs(u,{children:[r.jsx(t,{primary:"Date"}),r.jsx(t,{primary:"Present"}),r.jsx(t,{primary:"Absent"})]}),s.data&&s.data.map(e=>r.jsxs(L,{divider:!0,children:[r.jsx(t,{primary:i(e.date).format("Do MMMM,YYYY"),secondary:i(e.date).format("dddd"),secondaryTypographyProps:{color:"primary.main",fontWeight:"bold"}}),r.jsx(t,{primary:e.present,primaryTypographyProps:{width:100}}),r.jsx(t,{primary:e.absent,primaryTypographyProps:{width:100}})]},e.date))]})]}),s.isLoading&&r.jsx(h,{value:"Loading Attendance History"})]})}T.propTypes={open:p.PropTypes.bool,setOpen:p.PropTypes.func};export{T as default};
