import{j as s,S as r,h as I,U as M,g as S,H as A,G as B,r as w,f as E,v as R,i as P,C as N,J as m,T as j,B as l,A as Q,D as F,V as L,O as Y,x as $,s as h,t as q}from"./index-bb65b4bf.js";import{g as G,d as V}from"./teacherAPI-256d27ef.js";import{P as i,M as O}from"./ProfileItem-6597fa1d.js";import{C as H}from"./CustomTitle-ed47c53b.js";import{B as J}from"./Back-0ebcc4f3.js";import{E as K}from"./Edit-11e1ba9f.js";import{B as U}from"./ButtonGroup-83f2640f.js";import{P as g}from"./Person-07ef2507.js";import"./ArrowBackRounded-54858719.js";function _({teacher:n}){return s.jsxs(r,{children:[s.jsx(i,{label:"Name",text:n==null?void 0:n.fullName}),s.jsx(i,{label:"Date Of Birth",tex:!0,text:I(new Date(n==null?void 0:n.dateofbirth)).format("Do MMMM, YYYY.")}),s.jsx(i,{label:"Gender",text:n==null?void 0:n.gender}),s.jsx(i,{label:"Email Address",text:n==null?void 0:n.email}),s.jsx(i,{label:"Telephone No.",text:n==null?void 0:n.phonenumber}),s.jsx(i,{label:"Address",text:n==null?void 0:n.address}),s.jsx(i,{label:"Residence",text:n==null?void 0:n.residence}),s.jsx(i,{label:"Nationality",text:n==null?void 0:n.nationality})]})}const f=()=>{var u,p,c;const n=S(),d=A(),{id:a}=B(),{schoolSessionDispatch:x}=w.useContext(E),e=R({queryKey:["teacher",a],queryFn:()=>G(a),initialData:(u=n.getQueryData(["teachers",a]))==null?void 0:u.find(o=>(o==null?void 0:o._id)===a),enabled:!!a}),y=()=>{d(`/teacher/${a}/edit`)},{mutateAsync:b,isLoading:v}=P({mutationFn:V}),C=()=>{$.fire({title:"Deleting Teacher",text:"Do you want to delete?",showCancelButton:!0,backdrop:!1}).then(o=>{o.isConfirmed&&b(a,{onSuccess:t=>{n.invalidateQueries(["teachers"]),x(h(t))},onError:t=>{x(q(t))}})})},T=()=>{var o,t;x({type:"sendQuickMessage",payload:{open:!0,data:{email:(o=e==null?void 0:e.data)==null?void 0:o.email,phonenumber:(t=e==null?void 0:e.data)==null?void 0:t.phonenumber}}})},D=()=>{d("level")},k=()=>{d("course")};return s.jsxs(s.Fragment,{children:[s.jsxs(N,{children:[s.jsx(J,{to:"/teacher",color:"primary.main"}),s.jsx(H,{title:"Teacher Information",subtitle:"Manage teachers profile and assigned levels and courses",color:"primary.main"}),s.jsxs(m,{sx:{bgcolor:"#fff",py:4,px:2,my:4},children:[s.jsx(j,{paragraph:!0,variant:"h5",children:"Profile Details"}),s.jsx(r,{children:s.jsx(l,{sx:{alignSelf:"flex-end"},endIcon:s.jsx(K,{}),onClick:y,children:"Edit"})}),s.jsxs(m,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:{xs:"center",md:"space-evenly"},alignItems:"center",gap:2},children:[s.jsxs(r,{alignItems:"center",spacing:1,children:[s.jsx(m,{sx:{p:1,border:"1px solid lightgray",borderRadius:"50%"},children:s.jsx(Q,{src:`/images/users/${(p=e==null?void 0:e.data)==null?void 0:p.profile}`,sx:{width:100,height:100}})}),s.jsx(j,{paragraph:!0,variant:"h5",children:(c=e==null?void 0:e.data)==null?void 0:c.fullName}),s.jsx(l,{startIcon:s.jsx(O,{}),onClick:T,children:"Send Message"}),s.jsxs(U,{variant:"contained",children:[s.jsx(l,{color:"secondary",endIcon:s.jsx(g,{}),onClick:D,children:"Assign Level"}),s.jsx(l,{color:"primary",endIcon:s.jsx(g,{}),onClick:k,children:"Assign Course"})]})]}),s.jsxs(r,{spacing:2,children:[s.jsx(_,{teacher:e==null?void 0:e.data}),s.jsx(F,{}),s.jsx(l,{color:"error",variant:"contained",endIcon:s.jsx(L,{}),onClick:C,children:"Remove Account"})]})]})]})]}),v&&s.jsx(Y,{value:"Removing Facilitator Information"})]})};f.propTypes={};const as=M.memo(f);export{as as default};
