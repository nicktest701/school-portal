import{u as S,r as c,S as g,b as x,c as v,d as y,j as e,C as b,e as j,a4 as D,f as E,_ as k,g as R,h as T,a5 as q}from"./index-B8PQHtjc.js";import{C as w}from"./CustomizedMaterialTable-BQoTtwVw.js";import{N as A}from"./sessionColumns-oq904N9H.js";import"./TabPanel-WHfZdNAn.js";import"./useThemeProps-CEPKeDia.js";import"./Toolbar-YM__bEFh.js";import"./Chip-DmEpgF7y.js";import"./Autocomplete-Dw57Ihk7.js";import"./Skeleton-DWRiBFRT.js";import"./ButtonGroup-ZC3qSltg.js";import"./ListItemText-DzMM1D1F.js";import"./InputAdornment-DAOlZ4uj.js";import"./index-BqG4A_N5.js";import"./DialogActions-BmNk8sop.js";import"./ListItem-CQImyTSy.js";import"./ListItemSecondaryAction-DOVMjMKm.js";import"./listItemButtonClasses-DySKLRoc.js";import"./Grid2-B2FVLpOz.js";import"./Link-kLE4_HTq.js";import"./ListItemButton-Di0YOqWQ.js";import"./Check-JB41DPzl.js";import"./DeleteOutline-BlPFLwFk.js";import"./images-B5fNBSni.js";import"./currencyFormatter-DjBDW3hY.js";import"./CircleRounded-YWo57tpF.js";function nt(){const n=S(),[l,s]=c.useState([]),{schoolSessionDispatch:a}=c.useContext(g),m=x(),i=v({queryKey:["notifications"],queryFn:()=>q(),initialData:[]}),p=t=>{n(`/notifications/${t}`)},u=t=>{n(`/notifications/${t}/edit`)},d=t=>{s(t)},f=t=>{s([{_id:t}]),r()},{mutateAsync:h,isPending:C}=y({mutationFn:D}),r=()=>{E.fire({title:"Removing Notifications",text:"You are about to remove the selected notifications.Changes cannot be undone.",showCancelButton:!0}).then(({isConfirmed:t})=>{const N=k.map(l,"_id");t&&h({notifications:N},{onSettled:()=>{m.invalidateQueries(["notifications"])},onSuccess:o=>{a(R(o))},onError:o=>{a(T(o))}})})};return e.jsxs(b,{children:[e.jsx(j,{title:"Notifications",subtitle:"Receive notifications and track activities to stay updated on important school events and tasks.",color:"text.main",backColor:"#012e54"}),e.jsx(w,{isPending:i.isPending||C,columns:A(p,u,f),data:i.data,handleRefresh:i.refetch,actions:[],options:{search:!0},onSelectionChange:d,onDeleteClicked:r})]})}export{nt as default};
