import{r as l,a0 as x,u as C,c as _,ft as y,j as d,M as T,e as I,T as g}from"./index-ce442eb1.js";import{a as h}from"./studentColumns-f452d38f.js";import{C as E}from"./CustomizedMaterialTable-06b57d17.js";import{u as b}from"./useLevel-0efe41ff.js";import{s as r}from"./student_ico-5882123b.js";import{E as j}from"./images-ee905b8b.js";import{A as N}from"./Autocomplete-87c4b1e1.js";import"./gradeColor-6983157e.js";import"./ListItemText-b107adf9.js";import"./CircleRounded-06f2dceb.js";import"./TabPanel-47a179c1.js";import"./Toolbar-8b116404.js";import"./Chip-15117b24.js";import"./Skeleton-b715010d.js";import"./ButtonGroup-ca857561.js";import"./InputAdornment-92a613d9.js";import"./DialogActions-c9d7df2e.js";import"./ListItemSecondaryAction-660d9daa.js";import"./useMediaQuery-5bcb3f64.js";import"./ListItem-2727fabf.js";import"./listItemButtonClasses-c7063ebe.js";import"./ListItemButton-97ec9750.js";import"./Check-4cc8eef7.js";import"./DeleteOutline-78b9d3f1.js";import"./Delete-fb41f478.js";const M=()=>{const{userState:{session:i}}=l.useContext(x),p=C(),[c,m]=l.useState([]),[e,n]=l.useState({_id:"",type:""}),{levelsOption:u}=b(),o=_({queryKey:["all-students",i==null?void 0:i.sessionId],queryFn:()=>y(i),enabled:!!i.sessionId});l.useEffect(()=>{var t;if(m([]),e!=null&&e._id){const s=(t=o==null?void 0:o.data)==null?void 0:t.filter(a=>(a==null?void 0:a.levelId)===(e==null?void 0:e._id));m(s)}else m([])},[e==null?void 0:e._id]);const f=t=>{const s=t.levelId,a=t.levelName;p(`/student/profile/${s}/${a}/${t._id}`,{state:{levelId:t.levelId,levelName:t.levelName}})},S=()=>{n({_id:"",type:""}),m([]),o.refetch()};return d.jsxs(T,{children:[d.jsx(I,{title:"Students Information",subtitle:"  Track,manage and control academic and class activities",img:r,color:"primary.main"}),d.jsx(E,{title:(e==null?void 0:e.type)||"Students",icon:r,search:!0,columns:h,actions:[],data:(e==null?void 0:e._id)===""?o==null?void 0:o.data:c,onRowClick:f,addButtonImg:j.student,addButtonMessage:"ðŸ˜‘ No Students recently added !!!!",handleRefresh:S,autoCompleteComponent:d.jsx(N,{disableClearable:!0,clearText:" ",sx:{width:280},options:u??[],isOptionEqualToValue:(t,s)=>s._id===void 0||s._id===""||t._id===s._id,getOptionLabel:t=>(t==null?void 0:t.type)||"",value:e,onChange:(t,s)=>n(s),renderInput:t=>d.jsx(g,{...t,label:"Select Class",size:"small"})})})]})};M.propTypes={};export{M as default};
