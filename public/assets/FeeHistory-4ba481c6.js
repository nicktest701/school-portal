import{r as o,a0 as S,a as f,c,ft as y,j as t,e as u,l as d,T,A as p,m as x,fI as _}from"./index-ce442eb1.js";import{f as b}from"./currentFeeAPI-8639b338.js";import{S as A}from"./StudentFeeReportListItem-302f2a52.js";import{E as C}from"./images-ee905b8b.js";import{A as E}from"./Autocomplete-87c4b1e1.js";import"./v4-4a60fe23.js";import"./ListItemButton-97ec9750.js";import"./listItemButtonClasses-c7063ebe.js";import"./ListItemText-b107adf9.js";import"./Chip-15117b24.js";const N="/assets/fees-empty2-840629c7.png",k=()=>{var l,m;const h=o.useId(),{userState:{session:n}}=o.useContext(S),[P,g]=f(),[e,j]=o.useState({_id:"",profile:"",fullName:""}),r=c(["all-students",n],()=>y(n),{enabled:!!n.sessionId}),i=c(["all-fees-history",e==null?void 0:e._id],()=>b(e==null?void 0:e._id),{enabled:!!(e!=null&&e._id),onSettled:()=>{g(a=>(a.set("_id",e==null?void 0:e._id),a))}});return t.jsxs(t.Fragment,{children:[t.jsx(u,{title:"Fees History",subtitle:"Manage Student fee payment history",img:C.assessment,color:"primary.main"}),t.jsx(d,{paddingY:4,children:t.jsx(E,{fullWidth:!0,disableClearable:!0,clearText:" ",options:(r==null?void 0:r.data)??[],loading:r.isLoading,loadingText:"Loading Students.Please Wait...",noOptionsText:"No Student found",isOptionEqualToValue:(a,s)=>(s==null?void 0:s._id)===void 0||(s==null?void 0:s._id)===""||a.id===(s==null?void 0:s._id),getOptionLabel:a=>(a==null?void 0:a.fullName)||"",value:e,onChange:(a,s)=>{j(s)},renderInput:a=>t.jsx(T,{...a,placeholder:"Search for student"})})}),i!=null&&i.data?t.jsxs(t.Fragment,{children:[t.jsx(d,{justifyContent:"center",paddingY:2,spacing:1,alignItems:"center",children:t.jsxs(t.Fragment,{children:[t.jsx(p,{src:e==null?void 0:e.profile,sx:{width:80,height:80}}),t.jsx(x,{sx:{textTransform:"capitalize"},children:e==null?void 0:e.fullName})]})}),t.jsx(_,{style:{width:"100%",minHeight:"300px"},autoHide:!0,children:(m=(l=i==null?void 0:i.data)==null?void 0:l.fees)==null?void 0:m.map(a=>{var s;return t.jsx(A,{item:a,studentId:(s=i==null?void 0:i.data)==null?void 0:s.studentId},h)})})]}):t.jsxs(d,{spacing:2,justifyContent:"center",alignItems:"center",children:[t.jsx(p,{src:N,sx:{width:200,height:200}}),t.jsx(x,{variant:"body2",children:"No Records available"})]})]})};export{k as default};
