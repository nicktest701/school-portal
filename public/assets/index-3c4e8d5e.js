import{u as S,r as c,S as g,b as x,c as v,d as y,j as e,C as b,e as j,f as D,_ as E,g as k,h as R,a3 as T,a4 as q}from"./index-ce442eb1.js";import{C as w}from"./CustomizedMaterialTable-06b57d17.js";import{N as A}from"./sessionColumns-a7ba1da8.js";import"./TabPanel-47a179c1.js";import"./Toolbar-8b116404.js";import"./Chip-15117b24.js";import"./Autocomplete-87c4b1e1.js";import"./Skeleton-b715010d.js";import"./ButtonGroup-ca857561.js";import"./ListItemText-b107adf9.js";import"./InputAdornment-92a613d9.js";import"./DialogActions-c9d7df2e.js";import"./ListItemSecondaryAction-660d9daa.js";import"./useMediaQuery-5bcb3f64.js";import"./ListItem-2727fabf.js";import"./listItemButtonClasses-c7063ebe.js";import"./ListItemButton-97ec9750.js";import"./Check-4cc8eef7.js";import"./DeleteOutline-78b9d3f1.js";import"./images-ee905b8b.js";import"./Delete-fb41f478.js";import"./currencyFormatter-1910a788.js";import"./CircleRounded-06f2dceb.js";import"./Edit-009e8578.js";function et(){const n=S(),[l,a]=c.useState([]),{schoolSessionDispatch:s}=c.useContext(g),m=x(),i=v({queryKey:["notifications"],queryFn:()=>T(),initialData:[]}),u=t=>{n(`/notifications/${t}`)},p=t=>{n(`/notifications/${t}/edit`)},d=t=>{a(t)},f=t=>{a([{_id:t}]),r()},{mutateAsync:h,isLoading:C}=y({mutationFn:q}),r=()=>{D.fire({title:"Removing Notifications",text:"You are about to remove the selected notifications.Changes cannot be undone.",showCancelButton:!0}).then(({isConfirmed:t})=>{const N=E.map(l,"_id");t&&h({notifications:N},{onSettled:()=>{m.invalidateQueries(["notifications"])},onSuccess:o=>{s(k(o))},onError:o=>{s(R(o))}})})};return e.jsxs(b,{children:[e.jsx(j,{title:"Notifications",subtitle:"Receive notifications and track activities to stay updated on important school events and tasks.",color:"text.main",backColor:"#012e54"}),e.jsx(w,{isLoading:i.isLoading||C,columns:A(u,p,f),data:i.data,handleRefresh:i.refetch,actions:[],options:{search:!0},onSelectionChange:d,onDeleteClicked:r})]})}export{et as default};
