import{H as C,r as m,f,g as S,v as x,i as y,j as s,C as w,x as b,_ as j,s as B,t as A}from"./index-bb65b4bf.js";import{C as D}from"./CustomTitle-ed47c53b.js";import{g as M,d as T}from"./eventAPI-b5f64315.js";import{E as _}from"./images-0c291668.js";import{C as k}from"./CustomizedMaterialTable-266061d1.js";import{E as q}from"./sessionColumns-3b88387c.js";import"./score_ico-e1082ac1.js";import"./TabPanel-175e39ff.js";import"./Toolbar-36d77a55.js";import"./MenuItem-1edcf8db.js";import"./listItemTextClasses-35ff90f6.js";import"./Chip-fa36c3a1.js";import"./Autocomplete-95da27f3.js";import"./Skeleton-6cff8ea8.js";import"./ButtonGroup-83f2640f.js";import"./ListItemText-33ae0292.js";import"./InputAdornment-321f8206.js";import"./CardContent-25ef3451.js";import"./ListItemSecondaryAction-c66bb893.js";import"./Grid-6a14669c.js";import"./useMediaQuery-5f0ec7e9.js";import"./ListItem-befde9c4.js";import"./listItemButtonClasses-9702db06.js";import"./ListItemButton-bf3e0355.js";import"./Check-7b95876f.js";import"./DeleteOutline-80e9f63f.js";import"./Delete-97505065.js";import"./Add-66663708.js";import"./currencyFormatter-1910a788.js";import"./CircleRounded-3db5a545.js";import"./Edit-11e1ba9f.js";function ct(){const e=C(),[d,i]=m.useState([]),{schoolSessionDispatch:r}=m.useContext(f),l=S(),o=x({queryKey:["events"],queryFn:()=>M(),initialData:[]}),c=t=>{e(`/events/${t}?redirect_to=/events`,{state:{prevPath:"/events"}})},u=t=>{e(`/events/${t}/edit`)},p=t=>{i(t)},v=t=>{i([{_id:t}]),a()},{mutateAsync:h,isLoading:E}=y({mutationFn:T}),a=()=>{b.fire({title:"Removing Events",text:"You are about to remove the selected events.Changes cannot be undone.",showCancelButton:!0}).then(({isConfirmed:t})=>{const g=j.map(d,"_id");t&&h({events:g},{onSettled:()=>{l.invalidateQueries(["events"])},onSuccess:n=>{r(B(n))},onError:n=>{r(A(n))}})})};return s.jsxs(w,{children:[s.jsx(D,{title:"Events",subtitle:"Schedule and manage school events to ensure everyone stays informed and engaged.",color:"text.main",backColor:"#012e54"}),s.jsx(k,{isLoading:o.isLoading||E,columns:q(c,u,v),data:o.data,handleRefresh:o.refetch,actions:[],showAddButton:!0,addButtonImg:_.sms,addButtonText:"New Event",addButtonMessage:"ðŸ˜‘ Send your first Event with just a button click !!!!",onAddButtonClicked:()=>e("new"),options:{search:!0},onSelectionChange:p,onDeleteClicked:a})]})}export{ct as default};
