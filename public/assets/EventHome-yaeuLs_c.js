import{u as C,r as d,S,b as f,c as x,d as y,j as s,C as b,e as w,a5 as j,f as B,_ as A,g as D,h as M,a6 as T}from"./index-DrgqF6h7.js";import{E as _}from"./images-B5fNBSni.js";import{C as k}from"./CustomizedMaterialTable-sErZg5Gy.js";import{E as q}from"./sessionColumns-0BrYivn4.js";import"./TabPanel-Bl8roboH.js";import"./useThemeProps-DLRF2U3R.js";import"./Toolbar-Bzx_LBRC.js";import"./Chip-BcLQNplL.js";import"./Autocomplete-D4vPEd6T.js";import"./Skeleton-BUD-o5ar.js";import"./ButtonGroup-DQMwsk7A.js";import"./ListItemText-Bwh_rzOL.js";import"./InputAdornment-EcTjtcuD.js";import"./index-_n9xtSlI.js";import"./DialogActions-Cx2GHHEW.js";import"./ListItem-yCsexoBs.js";import"./ListItemSecondaryAction-mmiMbVqP.js";import"./listItemButtonClasses-CLhmtlXH.js";import"./ListItemButton-BUsfko6u.js";import"./Check-CEGAxChF.js";import"./DeleteOutline-DM92K-00.js";import"./currencyFormatter-DjBDW3hY.js";import"./CircleRounded-Bh8WmZqU.js";function oe(){const t=C(),[c,a]=d.useState([]),{schoolSessionDispatch:i}=d.useContext(S),l=f(),n=x({queryKey:["events"],queryFn:()=>T(),initialData:[]}),u=e=>{t(`/events/${e}?redirect_to=/events`,{state:{prevPath:"/events"}})},m=e=>{t(`/events/${e}/edit`)},v=e=>{a(e)},p=e=>{a([{_id:e}]),r()},{mutateAsync:h,isLoading:E}=y({mutationFn:j}),r=()=>{B.fire({title:"Removing Events",text:"You are about to remove the selected events.Changes cannot be undone.",showCancelButton:!0}).then(({isConfirmed:e})=>{const g=A.map(c,"_id");e&&h({events:g},{onSettled:()=>{l.invalidateQueries(["events"])},onSuccess:o=>{i(D(o))},onError:o=>{i(M(o))}})})};return s.jsxs(b,{children:[s.jsx(w,{title:"Events",subtitle:"Schedule and manage school events to ensure everyone stays informed and engaged.",color:"text.main",backColor:"#012e54"}),s.jsx(k,{isLoading:n.isLoading||E,columns:q(u,m,p),data:n.data,handleRefresh:n.refetch,actions:[],showAddButton:!0,addButtonImg:_.sms,addButtonText:"New Event",addButtonMessage:"ðŸ˜‘ Send your first Event with just a button click !!!!",onAddButtonClicked:()=>t("new"),options:{search:!0},onSelectionChange:v,onDeleteClicked:r})]})}export{oe as default};
