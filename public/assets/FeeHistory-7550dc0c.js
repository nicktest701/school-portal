import{r as d,U as S,a8 as y,g as m,b5 as u,c3 as b,j as s,G as T,M as _,m as l,n as f,T as C,X as x,q as h,c4 as E}from"./index-e0c0d8c9.js";import{S as A}from"./StudentFeeReportListItem-4ab13696.js";const N="/assets/fees-empty2-840629c7.png",q=()=>{var c,o;const g=d.useId(),{userState:{session:n}}=d.useContext(S),[P,p]=y(),[e,j]=d.useState({_id:"",profile:"",fullName:""}),r=m(["all-students",n],()=>u(n),{enabled:!!n.sessionId}),i=m(["all-fees-history",e==null?void 0:e._id],()=>b(e==null?void 0:e._id),{enabled:!!(e!=null&&e._id),onSettled:()=>{p(a=>(a.set("_id",e==null?void 0:e._id),a))}});return s.jsxs(s.Fragment,{children:[s.jsx(T,{title:"Fees History",subtitle:"Manage Student fee payment history",img:_.assessment,color:"primary.main"}),s.jsx(l,{paddingY:4,children:s.jsx(f,{fullWidth:!0,disableClearable:!0,clearText:" ",options:(r==null?void 0:r.data)??[],loading:r.isLoading,loadingText:"Loading Students.Please Wait...",noOptionsText:"No Student found",isOptionEqualToValue:(a,t)=>(t==null?void 0:t._id)===void 0||(t==null?void 0:t._id)===""||a.id===(t==null?void 0:t._id),getOptionLabel:a=>(a==null?void 0:a.fullName)||"",value:e,onChange:(a,t)=>{j(t)},renderInput:a=>s.jsx(C,{...a,placeholder:"Search for student"})})}),i!=null&&i.data?s.jsxs(s.Fragment,{children:[s.jsx(l,{justifyContent:"center",paddingY:2,spacing:1,alignItems:"center",children:s.jsxs(s.Fragment,{children:[s.jsx(x,{src:e==null?void 0:e.profile,sx:{width:80,height:80}}),s.jsx(h,{sx:{textTransform:"capitalize"},children:e==null?void 0:e.fullName})]})}),s.jsx(E,{style:{width:"100%",minHeight:"300px"},autoHide:!0,children:(o=(c=i==null?void 0:i.data)==null?void 0:c.fees)==null?void 0:o.map(a=>{var t;return s.jsx(A,{item:a,studentId:(t=i==null?void 0:i.data)==null?void 0:t.studentId},g)})})]}):s.jsxs(l,{spacing:2,justifyContent:"center",alignItems:"center",children:[s.jsx(x,{src:N,sx:{width:200,height:200}}),s.jsx(h,{variant:"body2",children:"No Records available"})]})]})};export{q as default};
